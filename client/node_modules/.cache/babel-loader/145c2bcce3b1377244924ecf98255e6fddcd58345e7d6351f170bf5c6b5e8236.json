{"ast":null,"code":"/*!\n * on-headers\n * Copyright(c) 2014 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\nmodule.exports = onHeaders;\n\n/**\n * Create a replacement writeHead method.\n *\n * @param {function} prevWriteHead\n * @param {function} listener\n * @private\n */\n\nfunction createWriteHead(prevWriteHead, listener) {\n  var fired = false;\n\n  // return function with core name and argument list\n  return function writeHead(statusCode) {\n    // set headers from arguments\n    var args = setWriteHeadHeaders.apply(this, arguments);\n\n    // fire listener\n    if (!fired) {\n      fired = true;\n      listener.call(this);\n\n      // pass-along an updated status code\n      if (typeof args[0] === 'number' && this.statusCode !== args[0]) {\n        args[0] = this.statusCode;\n        args.length = 1;\n      }\n    }\n    return prevWriteHead.apply(this, args);\n  };\n}\n\n/**\n * Execute a listener when a response is about to write headers.\n *\n * @param {object} res\n * @return {function} listener\n * @public\n */\n\nfunction onHeaders(res, listener) {\n  if (!res) {\n    throw new TypeError('argument res is required');\n  }\n  if (typeof listener !== 'function') {\n    throw new TypeError('argument listener must be a function');\n  }\n  res.writeHead = createWriteHead(res.writeHead, listener);\n}\n\n/**\n * Set headers contained in array on the response object.\n *\n * @param {object} res\n * @param {array} headers\n * @private\n */\n\nfunction setHeadersFromArray(res, headers) {\n  for (var i = 0; i < headers.length; i++) {\n    res.setHeader(headers[i][0], headers[i][1]);\n  }\n}\n\n/**\n * Set headers contained in object on the response object.\n *\n * @param {object} res\n * @param {object} headers\n * @private\n */\n\nfunction setHeadersFromObject(res, headers) {\n  var keys = Object.keys(headers);\n  for (var i = 0; i < keys.length; i++) {\n    var k = keys[i];\n    if (k) res.setHeader(k, headers[k]);\n  }\n}\n\n/**\n * Set headers and other properties on the response object.\n *\n * @param {number} statusCode\n * @private\n */\n\nfunction setWriteHeadHeaders(statusCode) {\n  var length = arguments.length;\n  var headerIndex = length > 1 && typeof arguments[1] === 'string' ? 2 : 1;\n  var headers = length >= headerIndex + 1 ? arguments[headerIndex] : undefined;\n  this.statusCode = statusCode;\n  if (Array.isArray(headers)) {\n    // handle array case\n    setHeadersFromArray(this, headers);\n  } else if (headers) {\n    // handle object case\n    setHeadersFromObject(this, headers);\n  }\n\n  // copy leading arguments\n  var args = new Array(Math.min(length, headerIndex));\n  for (var i = 0; i < args.length; i++) {\n    args[i] = arguments[i];\n  }\n  return args;\n}","map":{"version":3,"names":["module","exports","onHeaders","createWriteHead","prevWriteHead","listener","fired","writeHead","statusCode","args","setWriteHeadHeaders","apply","arguments","call","length","res","TypeError","setHeadersFromArray","headers","i","setHeader","setHeadersFromObject","keys","Object","k","headerIndex","undefined","Array","isArray","Math","min"],"sources":["/home/hemanth/react-project/client/node_modules/on-headers/index.js"],"sourcesContent":["/*!\n * on-headers\n * Copyright(c) 2014 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = onHeaders\n\n/**\n * Create a replacement writeHead method.\n *\n * @param {function} prevWriteHead\n * @param {function} listener\n * @private\n */\n\nfunction createWriteHead (prevWriteHead, listener) {\n  var fired = false\n\n  // return function with core name and argument list\n  return function writeHead (statusCode) {\n    // set headers from arguments\n    var args = setWriteHeadHeaders.apply(this, arguments)\n\n    // fire listener\n    if (!fired) {\n      fired = true\n      listener.call(this)\n\n      // pass-along an updated status code\n      if (typeof args[0] === 'number' && this.statusCode !== args[0]) {\n        args[0] = this.statusCode\n        args.length = 1\n      }\n    }\n\n    return prevWriteHead.apply(this, args)\n  }\n}\n\n/**\n * Execute a listener when a response is about to write headers.\n *\n * @param {object} res\n * @return {function} listener\n * @public\n */\n\nfunction onHeaders (res, listener) {\n  if (!res) {\n    throw new TypeError('argument res is required')\n  }\n\n  if (typeof listener !== 'function') {\n    throw new TypeError('argument listener must be a function')\n  }\n\n  res.writeHead = createWriteHead(res.writeHead, listener)\n}\n\n/**\n * Set headers contained in array on the response object.\n *\n * @param {object} res\n * @param {array} headers\n * @private\n */\n\nfunction setHeadersFromArray (res, headers) {\n  for (var i = 0; i < headers.length; i++) {\n    res.setHeader(headers[i][0], headers[i][1])\n  }\n}\n\n/**\n * Set headers contained in object on the response object.\n *\n * @param {object} res\n * @param {object} headers\n * @private\n */\n\nfunction setHeadersFromObject (res, headers) {\n  var keys = Object.keys(headers)\n  for (var i = 0; i < keys.length; i++) {\n    var k = keys[i]\n    if (k) res.setHeader(k, headers[k])\n  }\n}\n\n/**\n * Set headers and other properties on the response object.\n *\n * @param {number} statusCode\n * @private\n */\n\nfunction setWriteHeadHeaders (statusCode) {\n  var length = arguments.length\n  var headerIndex = length > 1 && typeof arguments[1] === 'string'\n    ? 2\n    : 1\n\n  var headers = length >= headerIndex + 1\n    ? arguments[headerIndex]\n    : undefined\n\n  this.statusCode = statusCode\n\n  if (Array.isArray(headers)) {\n    // handle array case\n    setHeadersFromArray(this, headers)\n  } else if (headers) {\n    // handle object case\n    setHeadersFromObject(this, headers)\n  }\n\n  // copy leading arguments\n  var args = new Array(Math.min(length, headerIndex))\n  for (var i = 0; i < args.length; i++) {\n    args[i] = arguments[i]\n  }\n\n  return args\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}