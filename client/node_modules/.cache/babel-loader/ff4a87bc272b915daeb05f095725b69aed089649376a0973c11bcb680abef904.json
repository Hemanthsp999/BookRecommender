{"ast":null,"code":"// Generated by CoffeeScript 1.12.7\n(function () {\n  var EventSourceReceiver,\n    transport,\n    utils,\n    extend = function (child, parent) {\n      for (var key in parent) {\n        if (hasProp.call(parent, key)) child[key] = parent[key];\n      }\n      function ctor() {\n        this.constructor = child;\n      }\n      ctor.prototype = parent.prototype;\n      child.prototype = new ctor();\n      child.__super__ = parent.prototype;\n      return child;\n    },\n    hasProp = {}.hasOwnProperty;\n  utils = require('./utils');\n  transport = require('./transport');\n  EventSourceReceiver = function (superClass) {\n    extend(EventSourceReceiver, superClass);\n    function EventSourceReceiver() {\n      return EventSourceReceiver.__super__.constructor.apply(this, arguments);\n    }\n    EventSourceReceiver.prototype.protocol = \"eventsource\";\n    EventSourceReceiver.prototype.doSendFrame = function (payload) {\n      var data;\n      data = ['data: ', utils.escape_selected(payload, '\\r\\n\\x00'), '\\r\\n\\r\\n'];\n      return EventSourceReceiver.__super__.doSendFrame.call(this, data.join(''));\n    };\n    return EventSourceReceiver;\n  }(transport.ResponseReceiver);\n  exports.app = {\n    eventsource: function (req, res) {\n      var headers, origin;\n      if (!req.headers['origin'] || req.headers['origin'] === 'null') {\n        origin = '*';\n      } else {\n        origin = req.headers['origin'];\n        res.setHeader('Access-Control-Allow-Credentials', 'true');\n      }\n      res.setHeader('Content-Type', 'text/event-stream');\n      res.setHeader('Access-Control-Allow-Origin', origin);\n      res.setHeader('Vary', 'Origin');\n      headers = req.headers['access-control-request-headers'];\n      if (headers) {\n        res.setHeader('Access-Control-Allow-Headers', headers);\n      }\n      res.writeHead(200);\n      res.write('\\r\\n');\n      transport.register(req, this, new EventSourceReceiver(req, res, this.options));\n      return true;\n    }\n  };\n}).call(this);","map":{"version":3,"names":["EventSourceReceiver","transport","utils","extend","child","parent","key","hasProp","call","ctor","constructor","prototype","__super__","hasOwnProperty","require","superClass","apply","arguments","protocol","doSendFrame","payload","data","escape_selected","join","ResponseReceiver","exports","app","eventsource","req","res","headers","origin","setHeader","writeHead","write","register","options"],"sources":["/home/hemanth/react-project/client/node_modules/sockjs/lib/trans-eventsource.js"],"sourcesContent":["// Generated by CoffeeScript 1.12.7\n(function() {\n  var EventSourceReceiver, transport, utils,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  utils = require('./utils');\n\n  transport = require('./transport');\n\n  EventSourceReceiver = (function(superClass) {\n    extend(EventSourceReceiver, superClass);\n\n    function EventSourceReceiver() {\n      return EventSourceReceiver.__super__.constructor.apply(this, arguments);\n    }\n\n    EventSourceReceiver.prototype.protocol = \"eventsource\";\n\n    EventSourceReceiver.prototype.doSendFrame = function(payload) {\n      var data;\n      data = ['data: ', utils.escape_selected(payload, '\\r\\n\\x00'), '\\r\\n\\r\\n'];\n      return EventSourceReceiver.__super__.doSendFrame.call(this, data.join(''));\n    };\n\n    return EventSourceReceiver;\n\n  })(transport.ResponseReceiver);\n\n  exports.app = {\n    eventsource: function(req, res) {\n      var headers, origin;\n      if (!req.headers['origin'] || req.headers['origin'] === 'null') {\n        origin = '*';\n      } else {\n        origin = req.headers['origin'];\n        res.setHeader('Access-Control-Allow-Credentials', 'true');\n      }\n      res.setHeader('Content-Type', 'text/event-stream');\n      res.setHeader('Access-Control-Allow-Origin', origin);\n      res.setHeader('Vary', 'Origin');\n      headers = req.headers['access-control-request-headers'];\n      if (headers) {\n        res.setHeader('Access-Control-Allow-Headers', headers);\n      }\n      res.writeHead(200);\n      res.write('\\r\\n');\n      transport.register(req, this, new EventSourceReceiver(req, res, this.options));\n      return true;\n    }\n  };\n\n}).call(this);\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}