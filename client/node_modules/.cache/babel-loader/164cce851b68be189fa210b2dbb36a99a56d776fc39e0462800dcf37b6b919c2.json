{"ast":null,"code":"\"use strict\";\n\nconst path = require(\"path\");\nconst {\n  parse\n} = require(\"url\");\nconst querystring = require(\"querystring\");\nconst getPaths = require(\"./getPaths\");\n/** @typedef {import(\"../index.js\").IncomingMessage} IncomingMessage */\n\n/** @typedef {import(\"../index.js\").ServerResponse} ServerResponse */\n\nconst cacheStore = new WeakMap();\n/**\n * @param {Function} fn\n * @param {{ cache?: Map<any, any> }} [cache]\n * @returns {any}\n */\n\nconst mem = function (fn) {\n  let {\n    cache = new Map()\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  /**\n   * @param {any} arguments_\n   * @return {any}\n   */\n  const memoized = function () {\n    for (var _len = arguments.length, arguments_ = new Array(_len), _key = 0; _key < _len; _key++) {\n      arguments_[_key] = arguments[_key];\n    }\n    const [key] = arguments_;\n    const cacheItem = cache.get(key);\n    if (cacheItem) {\n      return cacheItem.data;\n    }\n    const result = fn.apply(void 0, arguments_);\n    cache.set(key, {\n      data: result\n    });\n    return result;\n  };\n  cacheStore.set(memoized, cache);\n  return memoized;\n};\nconst memoizedParse = mem(parse);\n/**\n * @template {IncomingMessage} Request\n * @template {ServerResponse} Response\n * @param {import(\"../index.js\").Context<Request, Response>} context\n * @param {string} url\n * @returns {string | undefined}\n */\n\nfunction getFilenameFromUrl(context, url) {\n  const {\n    options\n  } = context;\n  const paths = getPaths(context);\n  let foundFilename;\n  let urlObject;\n  try {\n    // The `url` property of the `request` is contains only  `pathname`, `search` and `hash`\n    urlObject = memoizedParse(url, false, true);\n  } catch (_ignoreError) {\n    return;\n  }\n  for (const {\n    publicPath,\n    outputPath\n  } of paths) {\n    let filename;\n    let publicPathObject;\n    try {\n      publicPathObject = memoizedParse(publicPath !== \"auto\" && publicPath ? publicPath : \"/\", false, true);\n    } catch (_ignoreError) {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n    if (urlObject.pathname && urlObject.pathname.startsWith(publicPathObject.pathname)) {\n      filename = outputPath; // Strip the `pathname` property from the `publicPath` option from the start of requested url\n      // `/complex/foo.js` => `foo.js`\n\n      const pathname = urlObject.pathname.slice(publicPathObject.pathname.length);\n      if (pathname) {\n        filename = path.join(outputPath, querystring.unescape(pathname));\n      }\n      let fsStats;\n      try {\n        fsStats = /** @type {import(\"fs\").statSync} */\n        context.outputFileSystem.statSync(filename);\n      } catch (_ignoreError) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n      if (fsStats.isFile()) {\n        foundFilename = filename;\n        break;\n      } else if (fsStats.isDirectory() && (typeof options.index === \"undefined\" || options.index)) {\n        const indexValue = typeof options.index === \"undefined\" || typeof options.index === \"boolean\" ? \"index.html\" : options.index;\n        filename = path.join(filename, indexValue);\n        try {\n          fsStats = /** @type {import(\"fs\").statSync} */\n          context.outputFileSystem.statSync(filename);\n        } catch (__ignoreError) {\n          // eslint-disable-next-line no-continue\n          continue;\n        }\n        if (fsStats.isFile()) {\n          foundFilename = filename;\n          break;\n        }\n      }\n    }\n  } // eslint-disable-next-line consistent-return\n\n  return foundFilename;\n}\nmodule.exports = getFilenameFromUrl;","map":{"version":3,"names":["path","require","parse","querystring","getPaths","cacheStore","WeakMap","mem","fn","cache","Map","arguments","length","undefined","memoized","_len","arguments_","Array","_key","key","cacheItem","get","data","result","apply","set","memoizedParse","getFilenameFromUrl","context","url","options","paths","foundFilename","urlObject","_ignoreError","publicPath","outputPath","filename","publicPathObject","pathname","startsWith","slice","join","unescape","fsStats","outputFileSystem","statSync","isFile","isDirectory","index","indexValue","__ignoreError","module","exports"],"sources":["/home/hemanth/react-project/client/node_modules/webpack-dev-middleware/dist/utils/getFilenameFromUrl.js"],"sourcesContent":["\"use strict\";\n\nconst path = require(\"path\");\n\nconst {\n  parse\n} = require(\"url\");\n\nconst querystring = require(\"querystring\");\n\nconst getPaths = require(\"./getPaths\");\n/** @typedef {import(\"../index.js\").IncomingMessage} IncomingMessage */\n\n/** @typedef {import(\"../index.js\").ServerResponse} ServerResponse */\n\n\nconst cacheStore = new WeakMap();\n/**\n * @param {Function} fn\n * @param {{ cache?: Map<any, any> }} [cache]\n * @returns {any}\n */\n\nconst mem = (fn, {\n  cache = new Map()\n} = {}) => {\n  /**\n   * @param {any} arguments_\n   * @return {any}\n   */\n  const memoized = (...arguments_) => {\n    const [key] = arguments_;\n    const cacheItem = cache.get(key);\n\n    if (cacheItem) {\n      return cacheItem.data;\n    }\n\n    const result = fn.apply(void 0, arguments_);\n    cache.set(key, {\n      data: result\n    });\n    return result;\n  };\n\n  cacheStore.set(memoized, cache);\n  return memoized;\n};\n\nconst memoizedParse = mem(parse);\n/**\n * @template {IncomingMessage} Request\n * @template {ServerResponse} Response\n * @param {import(\"../index.js\").Context<Request, Response>} context\n * @param {string} url\n * @returns {string | undefined}\n */\n\nfunction getFilenameFromUrl(context, url) {\n  const {\n    options\n  } = context;\n  const paths = getPaths(context);\n  let foundFilename;\n  let urlObject;\n\n  try {\n    // The `url` property of the `request` is contains only  `pathname`, `search` and `hash`\n    urlObject = memoizedParse(url, false, true);\n  } catch (_ignoreError) {\n    return;\n  }\n\n  for (const {\n    publicPath,\n    outputPath\n  } of paths) {\n    let filename;\n    let publicPathObject;\n\n    try {\n      publicPathObject = memoizedParse(publicPath !== \"auto\" && publicPath ? publicPath : \"/\", false, true);\n    } catch (_ignoreError) {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (urlObject.pathname && urlObject.pathname.startsWith(publicPathObject.pathname)) {\n      filename = outputPath; // Strip the `pathname` property from the `publicPath` option from the start of requested url\n      // `/complex/foo.js` => `foo.js`\n\n      const pathname = urlObject.pathname.slice(publicPathObject.pathname.length);\n\n      if (pathname) {\n        filename = path.join(outputPath, querystring.unescape(pathname));\n      }\n\n      let fsStats;\n\n      try {\n        fsStats =\n        /** @type {import(\"fs\").statSync} */\n        context.outputFileSystem.statSync(filename);\n      } catch (_ignoreError) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (fsStats.isFile()) {\n        foundFilename = filename;\n        break;\n      } else if (fsStats.isDirectory() && (typeof options.index === \"undefined\" || options.index)) {\n        const indexValue = typeof options.index === \"undefined\" || typeof options.index === \"boolean\" ? \"index.html\" : options.index;\n        filename = path.join(filename, indexValue);\n\n        try {\n          fsStats =\n          /** @type {import(\"fs\").statSync} */\n          context.outputFileSystem.statSync(filename);\n        } catch (__ignoreError) {\n          // eslint-disable-next-line no-continue\n          continue;\n        }\n\n        if (fsStats.isFile()) {\n          foundFilename = filename;\n          break;\n        }\n      }\n    }\n  } // eslint-disable-next-line consistent-return\n\n\n  return foundFilename;\n}\n\nmodule.exports = getFilenameFromUrl;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}