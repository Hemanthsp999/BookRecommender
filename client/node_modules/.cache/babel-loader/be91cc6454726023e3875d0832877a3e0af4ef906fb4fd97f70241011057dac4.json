{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nconst {\n  URL,\n  fileURLToPath\n} = require(\"url\");\nconst {\n  NormalModule\n} = require(\"..\");\n\n/** @typedef {import(\"../Compiler\")} Compiler */\n\nclass FileUriPlugin {\n  /**\n   * Apply the plugin\n   * @param {Compiler} compiler the compiler instance\n   * @returns {void}\n   */\n  apply(compiler) {\n    compiler.hooks.compilation.tap(\"FileUriPlugin\", (compilation, _ref) => {\n      let {\n        normalModuleFactory\n      } = _ref;\n      normalModuleFactory.hooks.resolveForScheme.for(\"file\").tap(\"FileUriPlugin\", resourceData => {\n        const url = new URL(resourceData.resource);\n        const path = fileURLToPath(url);\n        const query = url.search;\n        const fragment = url.hash;\n        resourceData.path = path;\n        resourceData.query = query;\n        resourceData.fragment = fragment;\n        resourceData.resource = path + query + fragment;\n        return true;\n      });\n      const hooks = NormalModule.getCompilationHooks(compilation);\n      hooks.readResource.for(undefined).tapAsync(\"FileUriPlugin\", (loaderContext, callback) => {\n        const {\n          resourcePath\n        } = loaderContext;\n        loaderContext.addDependency(resourcePath);\n        loaderContext.fs.readFile(resourcePath, callback);\n      });\n    });\n  }\n}\nmodule.exports = FileUriPlugin;","map":{"version":3,"names":["URL","fileURLToPath","require","NormalModule","FileUriPlugin","apply","compiler","hooks","compilation","tap","_ref","normalModuleFactory","resolveForScheme","for","resourceData","url","resource","path","query","search","fragment","hash","getCompilationHooks","readResource","undefined","tapAsync","loaderContext","callback","resourcePath","addDependency","fs","readFile","module","exports"],"sources":["/home/hemanth/react-project/client/node_modules/webpack/lib/schemes/FileUriPlugin.js"],"sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nconst { URL, fileURLToPath } = require(\"url\");\nconst { NormalModule } = require(\"..\");\n\n/** @typedef {import(\"../Compiler\")} Compiler */\n\nclass FileUriPlugin {\n\t/**\n\t * Apply the plugin\n\t * @param {Compiler} compiler the compiler instance\n\t * @returns {void}\n\t */\n\tapply(compiler) {\n\t\tcompiler.hooks.compilation.tap(\n\t\t\t\"FileUriPlugin\",\n\t\t\t(compilation, { normalModuleFactory }) => {\n\t\t\t\tnormalModuleFactory.hooks.resolveForScheme\n\t\t\t\t\t.for(\"file\")\n\t\t\t\t\t.tap(\"FileUriPlugin\", resourceData => {\n\t\t\t\t\t\tconst url = new URL(resourceData.resource);\n\t\t\t\t\t\tconst path = fileURLToPath(url);\n\t\t\t\t\t\tconst query = url.search;\n\t\t\t\t\t\tconst fragment = url.hash;\n\t\t\t\t\t\tresourceData.path = path;\n\t\t\t\t\t\tresourceData.query = query;\n\t\t\t\t\t\tresourceData.fragment = fragment;\n\t\t\t\t\t\tresourceData.resource = path + query + fragment;\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t});\n\t\t\t\tconst hooks = NormalModule.getCompilationHooks(compilation);\n\t\t\t\thooks.readResource\n\t\t\t\t\t.for(undefined)\n\t\t\t\t\t.tapAsync(\"FileUriPlugin\", (loaderContext, callback) => {\n\t\t\t\t\t\tconst { resourcePath } = loaderContext;\n\t\t\t\t\t\tloaderContext.addDependency(resourcePath);\n\t\t\t\t\t\tloaderContext.fs.readFile(resourcePath, callback);\n\t\t\t\t\t});\n\t\t\t}\n\t\t);\n\t}\n}\n\nmodule.exports = FileUriPlugin;\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA,YAAY;;AAEZ,MAAM;EAAEA,GAAG;EAAEC;AAAc,CAAC,GAAGC,OAAO,CAAC,KAAK,CAAC;AAC7C,MAAM;EAAEC;AAAa,CAAC,GAAGD,OAAO,CAAC,IAAI,CAAC;;AAEtC;;AAEA,MAAME,aAAa,CAAC;EACnB;AACD;AACA;AACA;AACA;EACCC,KAAKA,CAACC,QAAQ,EAAE;IACfA,QAAQ,CAACC,KAAK,CAACC,WAAW,CAACC,GAAG,CAC7B,eAAe,EACf,CAACD,WAAW,EAAAE,IAAA,KAA8B;MAAA,IAA5B;QAAEC;MAAoB,CAAC,GAAAD,IAAA;MACpCC,mBAAmB,CAACJ,KAAK,CAACK,gBAAgB,CACxCC,GAAG,CAAC,MAAM,CAAC,CACXJ,GAAG,CAAC,eAAe,EAAEK,YAAY,IAAI;QACrC,MAAMC,GAAG,GAAG,IAAIf,GAAG,CAACc,YAAY,CAACE,QAAQ,CAAC;QAC1C,MAAMC,IAAI,GAAGhB,aAAa,CAACc,GAAG,CAAC;QAC/B,MAAMG,KAAK,GAAGH,GAAG,CAACI,MAAM;QACxB,MAAMC,QAAQ,GAAGL,GAAG,CAACM,IAAI;QACzBP,YAAY,CAACG,IAAI,GAAGA,IAAI;QACxBH,YAAY,CAACI,KAAK,GAAGA,KAAK;QAC1BJ,YAAY,CAACM,QAAQ,GAAGA,QAAQ;QAChCN,YAAY,CAACE,QAAQ,GAAGC,IAAI,GAAGC,KAAK,GAAGE,QAAQ;QAC/C,OAAO,IAAI;MACZ,CAAC,CAAC;MACH,MAAMb,KAAK,GAAGJ,YAAY,CAACmB,mBAAmB,CAACd,WAAW,CAAC;MAC3DD,KAAK,CAACgB,YAAY,CAChBV,GAAG,CAACW,SAAS,CAAC,CACdC,QAAQ,CAAC,eAAe,EAAE,CAACC,aAAa,EAAEC,QAAQ,KAAK;QACvD,MAAM;UAAEC;QAAa,CAAC,GAAGF,aAAa;QACtCA,aAAa,CAACG,aAAa,CAACD,YAAY,CAAC;QACzCF,aAAa,CAACI,EAAE,CAACC,QAAQ,CAACH,YAAY,EAAED,QAAQ,CAAC;MAClD,CAAC,CAAC;IACJ,CACD,CAAC;EACF;AACD;AAEAK,MAAM,CAACC,OAAO,GAAG7B,aAAa"},"metadata":{},"sourceType":"script","externalDependencies":[]}