{"ast":null,"code":"'use strict';\n\nvar Buffer = require('safe-buffer').Buffer;\nvar StreamReader = function () {\n  this._queue = [];\n  this._queueSize = 0;\n  this._offset = 0;\n};\nStreamReader.prototype.put = function (buffer) {\n  if (!buffer || buffer.length === 0) return;\n  if (!Buffer.isBuffer(buffer)) buffer = Buffer.from(buffer);\n  this._queue.push(buffer);\n  this._queueSize += buffer.length;\n};\nStreamReader.prototype.read = function (length) {\n  if (length > this._queueSize) return null;\n  if (length === 0) return Buffer.alloc(0);\n  this._queueSize -= length;\n  var queue = this._queue,\n    remain = length,\n    first = queue[0],\n    buffers,\n    buffer;\n  if (first.length >= length) {\n    if (first.length === length) {\n      return queue.shift();\n    } else {\n      buffer = first.slice(0, length);\n      queue[0] = first.slice(length);\n      return buffer;\n    }\n  }\n  for (var i = 0, n = queue.length; i < n; i++) {\n    if (remain < queue[i].length) break;\n    remain -= queue[i].length;\n  }\n  buffers = queue.splice(0, i);\n  if (remain > 0 && queue.length > 0) {\n    buffers.push(queue[0].slice(0, remain));\n    queue[0] = queue[0].slice(remain);\n  }\n  return Buffer.concat(buffers, length);\n};\nStreamReader.prototype.eachByte = function (callback, context) {\n  var buffer, n, index;\n  while (this._queue.length > 0) {\n    buffer = this._queue[0];\n    n = buffer.length;\n    while (this._offset < n) {\n      index = this._offset;\n      this._offset += 1;\n      callback.call(context, buffer[index]);\n    }\n    this._offset = 0;\n    this._queue.shift();\n  }\n};\nmodule.exports = StreamReader;","map":{"version":3,"names":["Buffer","require","StreamReader","_queue","_queueSize","_offset","prototype","put","buffer","length","isBuffer","from","push","read","alloc","queue","remain","first","buffers","shift","slice","i","n","splice","concat","eachByte","callback","context","index","call","module","exports"],"sources":["/home/hemanth/react-project/client/node_modules/websocket-driver/lib/websocket/driver/stream_reader.js"],"sourcesContent":["'use strict';\n\nvar Buffer = require('safe-buffer').Buffer;\n\nvar StreamReader = function() {\n  this._queue     = [];\n  this._queueSize = 0;\n  this._offset    = 0;\n};\n\nStreamReader.prototype.put = function(buffer) {\n  if (!buffer || buffer.length === 0) return;\n  if (!Buffer.isBuffer(buffer)) buffer = Buffer.from(buffer);\n  this._queue.push(buffer);\n  this._queueSize += buffer.length;\n};\n\nStreamReader.prototype.read = function(length) {\n  if (length > this._queueSize) return null;\n  if (length === 0) return Buffer.alloc(0);\n\n  this._queueSize -= length;\n\n  var queue  = this._queue,\n      remain = length,\n      first  = queue[0],\n      buffers, buffer;\n\n  if (first.length >= length) {\n    if (first.length === length) {\n      return queue.shift();\n    } else {\n      buffer = first.slice(0, length);\n      queue[0] = first.slice(length);\n      return buffer;\n    }\n  }\n\n  for (var i = 0, n = queue.length; i < n; i++) {\n    if (remain < queue[i].length) break;\n    remain -= queue[i].length;\n  }\n  buffers = queue.splice(0, i);\n\n  if (remain > 0 && queue.length > 0) {\n    buffers.push(queue[0].slice(0, remain));\n    queue[0] = queue[0].slice(remain);\n  }\n  return Buffer.concat(buffers, length);\n};\n\nStreamReader.prototype.eachByte = function(callback, context) {\n  var buffer, n, index;\n\n  while (this._queue.length > 0) {\n    buffer = this._queue[0];\n    n = buffer.length;\n\n    while (this._offset < n) {\n      index = this._offset;\n      this._offset += 1;\n      callback.call(context, buffer[index]);\n    }\n    this._offset = 0;\n    this._queue.shift();\n  }\n};\n\nmodule.exports = StreamReader;\n"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,MAAM,GAAGC,OAAO,CAAC,aAAa,CAAC,CAACD,MAAM;AAE1C,IAAIE,YAAY,GAAG,SAAAA,CAAA,EAAW;EAC5B,IAAI,CAACC,MAAM,GAAO,EAAE;EACpB,IAAI,CAACC,UAAU,GAAG,CAAC;EACnB,IAAI,CAACC,OAAO,GAAM,CAAC;AACrB,CAAC;AAEDH,YAAY,CAACI,SAAS,CAACC,GAAG,GAAG,UAASC,MAAM,EAAE;EAC5C,IAAI,CAACA,MAAM,IAAIA,MAAM,CAACC,MAAM,KAAK,CAAC,EAAE;EACpC,IAAI,CAACT,MAAM,CAACU,QAAQ,CAACF,MAAM,CAAC,EAAEA,MAAM,GAAGR,MAAM,CAACW,IAAI,CAACH,MAAM,CAAC;EAC1D,IAAI,CAACL,MAAM,CAACS,IAAI,CAACJ,MAAM,CAAC;EACxB,IAAI,CAACJ,UAAU,IAAII,MAAM,CAACC,MAAM;AAClC,CAAC;AAEDP,YAAY,CAACI,SAAS,CAACO,IAAI,GAAG,UAASJ,MAAM,EAAE;EAC7C,IAAIA,MAAM,GAAG,IAAI,CAACL,UAAU,EAAE,OAAO,IAAI;EACzC,IAAIK,MAAM,KAAK,CAAC,EAAE,OAAOT,MAAM,CAACc,KAAK,CAAC,CAAC,CAAC;EAExC,IAAI,CAACV,UAAU,IAAIK,MAAM;EAEzB,IAAIM,KAAK,GAAI,IAAI,CAACZ,MAAM;IACpBa,MAAM,GAAGP,MAAM;IACfQ,KAAK,GAAIF,KAAK,CAAC,CAAC,CAAC;IACjBG,OAAO;IAAEV,MAAM;EAEnB,IAAIS,KAAK,CAACR,MAAM,IAAIA,MAAM,EAAE;IAC1B,IAAIQ,KAAK,CAACR,MAAM,KAAKA,MAAM,EAAE;MAC3B,OAAOM,KAAK,CAACI,KAAK,CAAC,CAAC;IACtB,CAAC,MAAM;MACLX,MAAM,GAAGS,KAAK,CAACG,KAAK,CAAC,CAAC,EAAEX,MAAM,CAAC;MAC/BM,KAAK,CAAC,CAAC,CAAC,GAAGE,KAAK,CAACG,KAAK,CAACX,MAAM,CAAC;MAC9B,OAAOD,MAAM;IACf;EACF;EAEA,KAAK,IAAIa,CAAC,GAAG,CAAC,EAAEC,CAAC,GAAGP,KAAK,CAACN,MAAM,EAAEY,CAAC,GAAGC,CAAC,EAAED,CAAC,EAAE,EAAE;IAC5C,IAAIL,MAAM,GAAGD,KAAK,CAACM,CAAC,CAAC,CAACZ,MAAM,EAAE;IAC9BO,MAAM,IAAID,KAAK,CAACM,CAAC,CAAC,CAACZ,MAAM;EAC3B;EACAS,OAAO,GAAGH,KAAK,CAACQ,MAAM,CAAC,CAAC,EAAEF,CAAC,CAAC;EAE5B,IAAIL,MAAM,GAAG,CAAC,IAAID,KAAK,CAACN,MAAM,GAAG,CAAC,EAAE;IAClCS,OAAO,CAACN,IAAI,CAACG,KAAK,CAAC,CAAC,CAAC,CAACK,KAAK,CAAC,CAAC,EAAEJ,MAAM,CAAC,CAAC;IACvCD,KAAK,CAAC,CAAC,CAAC,GAAGA,KAAK,CAAC,CAAC,CAAC,CAACK,KAAK,CAACJ,MAAM,CAAC;EACnC;EACA,OAAOhB,MAAM,CAACwB,MAAM,CAACN,OAAO,EAAET,MAAM,CAAC;AACvC,CAAC;AAEDP,YAAY,CAACI,SAAS,CAACmB,QAAQ,GAAG,UAASC,QAAQ,EAAEC,OAAO,EAAE;EAC5D,IAAInB,MAAM,EAAEc,CAAC,EAAEM,KAAK;EAEpB,OAAO,IAAI,CAACzB,MAAM,CAACM,MAAM,GAAG,CAAC,EAAE;IAC7BD,MAAM,GAAG,IAAI,CAACL,MAAM,CAAC,CAAC,CAAC;IACvBmB,CAAC,GAAGd,MAAM,CAACC,MAAM;IAEjB,OAAO,IAAI,CAACJ,OAAO,GAAGiB,CAAC,EAAE;MACvBM,KAAK,GAAG,IAAI,CAACvB,OAAO;MACpB,IAAI,CAACA,OAAO,IAAI,CAAC;MACjBqB,QAAQ,CAACG,IAAI,CAACF,OAAO,EAAEnB,MAAM,CAACoB,KAAK,CAAC,CAAC;IACvC;IACA,IAAI,CAACvB,OAAO,GAAG,CAAC;IAChB,IAAI,CAACF,MAAM,CAACgB,KAAK,CAAC,CAAC;EACrB;AACF,CAAC;AAEDW,MAAM,CAACC,OAAO,GAAG7B,YAAY"},"metadata":{},"sourceType":"script","externalDependencies":[]}