{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DnsTxt = void 0;\nclass DnsTxt {\n  constructor() {\n    let opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this.binary = opts ? opts.binary : false;\n  }\n  encode() {\n    let data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return Object.entries(data).map(_ref => {\n      let [key, value] = _ref;\n      let item = `${key}=${value}`;\n      return Buffer.from(item);\n    });\n  }\n  decode(buffer) {\n    var data = {};\n    try {\n      let format = buffer.toString();\n      let parts = format.split(/=(.+)/);\n      let key = parts[0];\n      let value = parts[1];\n      data[key] = value;\n    } catch (_) {}\n    return data;\n  }\n  decodeAll(buffer) {\n    return buffer.filter(i => i.length > 1).map(i => this.decode(i)).reduce((prev, curr) => {\n      var obj = prev;\n      let [key] = Object.keys(curr);\n      let [value] = Object.values(curr);\n      obj[key] = value;\n      return obj;\n    }, {});\n  }\n}\nexports.DnsTxt = DnsTxt;\nexports.default = DnsTxt;","map":{"version":3,"names":["DnsTxt","constructor","opts","arguments","length","undefined","binary","encode","data","Object","entries","map","_ref","key","value","item","Buffer","from","decode","buffer","format","toString","parts","split","_","decodeAll","filter","i","reduce","prev","curr","obj","keys","values","exports","default"],"sources":["../../src/lib/dns-txt.ts"],"sourcesContent":[null],"mappings":"AAAA,YAAY;;;;;;AAIZ,MAAaA,MAAM;EAIfC,YAAA,EAA+B;IAAA,IAAnBC,IAAA,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAiB,EAAE;IAC3B,IAAI,CAACG,MAAM,GAAGJ,IAAI,GAAGA,IAAI,CAACI,MAAM,GAAG,KAAK;EAC5C;EAOOC,MAAMA,CAAA,EAAoB;IAAA,IAAnBC,IAAA,GAAAL,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAiB,EAAE;IAC7B,OAAOM,MAAM,CAACC,OAAO,CAACF,IAAI,CAAC,CAC1BG,GAAG,CAACC,IAAA,IAAiB;MAAA,IAAhB,CAACC,GAAG,EAAEC,KAAK,CAAC,GAAAF,IAAA;MACd,IAAIG,IAAI,GAAW,GAAGF,GAAG,IAAIC,KAAK,EAAE;MACpC,OAAOE,MAAM,CAACC,IAAI,CAACF,IAAI,CAAC;IAC5B,CAAC,CAAC;EACN;EAOOG,MAAMA,CAACC,MAAc;IACxB,IAAIX,IAAI,GAAa,EAAE;IAEvB,IAAI;MACA,IAAIY,MAAM,GAAoBD,MAAM,CAACE,QAAQ,EAAE;MAC/C,IAAIC,KAAK,GAAqBF,MAAM,CAACG,KAAK,CAAC,OAAO,CAAC;MACnD,IAAIV,GAAG,GAAuBS,KAAK,CAAC,CAAC,CAAC;MACtC,IAAIR,KAAK,GAAqBQ,KAAK,CAAC,CAAC,CAAC;MACtCd,IAAI,CAACK,GAAG,CAAC,GAAGC,KAAK;KACpB,CAAC,OAAMU,CAAC,EAAE;IAEX,OAAOhB,IAAI;EACf;EAOOiB,SAASA,CAACN,MAAqB;IAClC,OAAOA,MAAM,CACZO,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACvB,MAAM,GAAG,CAAC,CAAC,CACzBO,GAAG,CAACgB,CAAC,IAAI,IAAI,CAACT,MAAM,CAACS,CAAC,CAAC,CAAC,CACxBC,MAAM,CAAC,CAACC,IAAI,EAAEC,IAAI,KAAI;MACnB,IAAIC,GAAG,GAAWF,IAAI;MACtB,IAAI,CAAChB,GAAG,CAAC,GAASJ,MAAM,CAACuB,IAAI,CAACF,IAAI,CAAC;MACnC,IAAI,CAAChB,KAAK,CAAC,GAAOL,MAAM,CAACwB,MAAM,CAACH,IAAI,CAAC;MACrCC,GAAG,CAAClB,GAAG,CAAC,GAAUC,KAAK;MACvB,OAAOiB,GAAG;IACd,CAAC,EAAE,EAAE,CAAC;EACV;;AAxDJG,OAAA,CAAAlC,MAAA,GAAAA,MAAA;AA4DAkC,OAAA,CAAAC,OAAA,GAAenC,MAAM"},"metadata":{},"sourceType":"script","externalDependencies":[]}