{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nconst {\n  groupBy\n} = require(\"./util/ArrayHelpers\");\nconst createSchemaValidation = require(\"./util/create-schema-validation\");\n\n/** @typedef {import(\"../declarations/plugins/WatchIgnorePlugin\").WatchIgnorePluginOptions} WatchIgnorePluginOptions */\n/** @typedef {import(\"./Compiler\")} Compiler */\n/** @typedef {import(\"./util/fs\").WatchFileSystem} WatchFileSystem */\n\nconst validate = createSchemaValidation(require(\"../schemas/plugins/WatchIgnorePlugin.check.js\"), () => require(\"../schemas/plugins/WatchIgnorePlugin.json\"), {\n  name: \"Watch Ignore Plugin\",\n  baseDataPath: \"options\"\n});\nconst IGNORE_TIME_ENTRY = \"ignore\";\nclass IgnoringWatchFileSystem {\n  /**\n   * @param {WatchFileSystem} wfs original file system\n   * @param {(string|RegExp)[]} paths ignored paths\n   */\n  constructor(wfs, paths) {\n    this.wfs = wfs;\n    this.paths = paths;\n  }\n  watch(files, dirs, missing, startTime, options, callback, callbackUndelayed) {\n    files = Array.from(files);\n    dirs = Array.from(dirs);\n    const ignored = path => this.paths.some(p => p instanceof RegExp ? p.test(path) : path.indexOf(p) === 0);\n    const [ignoredFiles, notIgnoredFiles] = groupBy(files, ignored);\n    const [ignoredDirs, notIgnoredDirs] = groupBy(dirs, ignored);\n    const watcher = this.wfs.watch(notIgnoredFiles, notIgnoredDirs, missing, startTime, options, (err, fileTimestamps, dirTimestamps, changedFiles, removedFiles) => {\n      if (err) return callback(err);\n      for (const path of ignoredFiles) {\n        fileTimestamps.set(path, IGNORE_TIME_ENTRY);\n      }\n      for (const path of ignoredDirs) {\n        dirTimestamps.set(path, IGNORE_TIME_ENTRY);\n      }\n      callback(err, fileTimestamps, dirTimestamps, changedFiles, removedFiles);\n    }, callbackUndelayed);\n    return {\n      close: () => watcher.close(),\n      pause: () => watcher.pause(),\n      getContextTimeInfoEntries: () => {\n        const dirTimestamps = watcher.getContextTimeInfoEntries();\n        for (const path of ignoredDirs) {\n          dirTimestamps.set(path, IGNORE_TIME_ENTRY);\n        }\n        return dirTimestamps;\n      },\n      getFileTimeInfoEntries: () => {\n        const fileTimestamps = watcher.getFileTimeInfoEntries();\n        for (const path of ignoredFiles) {\n          fileTimestamps.set(path, IGNORE_TIME_ENTRY);\n        }\n        return fileTimestamps;\n      },\n      getInfo: watcher.getInfo && (() => {\n        const info = watcher.getInfo();\n        const {\n          fileTimeInfoEntries,\n          contextTimeInfoEntries\n        } = info;\n        for (const path of ignoredFiles) {\n          fileTimeInfoEntries.set(path, IGNORE_TIME_ENTRY);\n        }\n        for (const path of ignoredDirs) {\n          contextTimeInfoEntries.set(path, IGNORE_TIME_ENTRY);\n        }\n        return info;\n      })\n    };\n  }\n}\nclass WatchIgnorePlugin {\n  /**\n   * @param {WatchIgnorePluginOptions} options options\n   */\n  constructor(options) {\n    validate(options);\n    this.paths = options.paths;\n  }\n\n  /**\n   * Apply the plugin\n   * @param {Compiler} compiler the compiler instance\n   * @returns {void}\n   */\n  apply(compiler) {\n    compiler.hooks.afterEnvironment.tap(\"WatchIgnorePlugin\", () => {\n      compiler.watchFileSystem = new IgnoringWatchFileSystem(compiler.watchFileSystem, this.paths);\n    });\n  }\n}\nmodule.exports = WatchIgnorePlugin;","map":{"version":3,"names":["groupBy","require","createSchemaValidation","validate","name","baseDataPath","IGNORE_TIME_ENTRY","IgnoringWatchFileSystem","constructor","wfs","paths","watch","files","dirs","missing","startTime","options","callback","callbackUndelayed","Array","from","ignored","path","some","p","RegExp","test","indexOf","ignoredFiles","notIgnoredFiles","ignoredDirs","notIgnoredDirs","watcher","err","fileTimestamps","dirTimestamps","changedFiles","removedFiles","set","close","pause","getContextTimeInfoEntries","getFileTimeInfoEntries","getInfo","info","fileTimeInfoEntries","contextTimeInfoEntries","WatchIgnorePlugin","apply","compiler","hooks","afterEnvironment","tap","watchFileSystem","module","exports"],"sources":["/home/hemanth/react-project/client/node_modules/webpack/lib/WatchIgnorePlugin.js"],"sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nconst { groupBy } = require(\"./util/ArrayHelpers\");\nconst createSchemaValidation = require(\"./util/create-schema-validation\");\n\n/** @typedef {import(\"../declarations/plugins/WatchIgnorePlugin\").WatchIgnorePluginOptions} WatchIgnorePluginOptions */\n/** @typedef {import(\"./Compiler\")} Compiler */\n/** @typedef {import(\"./util/fs\").WatchFileSystem} WatchFileSystem */\n\nconst validate = createSchemaValidation(\n\trequire(\"../schemas/plugins/WatchIgnorePlugin.check.js\"),\n\t() => require(\"../schemas/plugins/WatchIgnorePlugin.json\"),\n\t{\n\t\tname: \"Watch Ignore Plugin\",\n\t\tbaseDataPath: \"options\"\n\t}\n);\n\nconst IGNORE_TIME_ENTRY = \"ignore\";\n\nclass IgnoringWatchFileSystem {\n\t/**\n\t * @param {WatchFileSystem} wfs original file system\n\t * @param {(string|RegExp)[]} paths ignored paths\n\t */\n\tconstructor(wfs, paths) {\n\t\tthis.wfs = wfs;\n\t\tthis.paths = paths;\n\t}\n\n\twatch(files, dirs, missing, startTime, options, callback, callbackUndelayed) {\n\t\tfiles = Array.from(files);\n\t\tdirs = Array.from(dirs);\n\t\tconst ignored = path =>\n\t\t\tthis.paths.some(p =>\n\t\t\t\tp instanceof RegExp ? p.test(path) : path.indexOf(p) === 0\n\t\t\t);\n\n\t\tconst [ignoredFiles, notIgnoredFiles] = groupBy(files, ignored);\n\t\tconst [ignoredDirs, notIgnoredDirs] = groupBy(dirs, ignored);\n\n\t\tconst watcher = this.wfs.watch(\n\t\t\tnotIgnoredFiles,\n\t\t\tnotIgnoredDirs,\n\t\t\tmissing,\n\t\t\tstartTime,\n\t\t\toptions,\n\t\t\t(err, fileTimestamps, dirTimestamps, changedFiles, removedFiles) => {\n\t\t\t\tif (err) return callback(err);\n\t\t\t\tfor (const path of ignoredFiles) {\n\t\t\t\t\tfileTimestamps.set(path, IGNORE_TIME_ENTRY);\n\t\t\t\t}\n\n\t\t\t\tfor (const path of ignoredDirs) {\n\t\t\t\t\tdirTimestamps.set(path, IGNORE_TIME_ENTRY);\n\t\t\t\t}\n\n\t\t\t\tcallback(\n\t\t\t\t\terr,\n\t\t\t\t\tfileTimestamps,\n\t\t\t\t\tdirTimestamps,\n\t\t\t\t\tchangedFiles,\n\t\t\t\t\tremovedFiles\n\t\t\t\t);\n\t\t\t},\n\t\t\tcallbackUndelayed\n\t\t);\n\n\t\treturn {\n\t\t\tclose: () => watcher.close(),\n\t\t\tpause: () => watcher.pause(),\n\t\t\tgetContextTimeInfoEntries: () => {\n\t\t\t\tconst dirTimestamps = watcher.getContextTimeInfoEntries();\n\t\t\t\tfor (const path of ignoredDirs) {\n\t\t\t\t\tdirTimestamps.set(path, IGNORE_TIME_ENTRY);\n\t\t\t\t}\n\t\t\t\treturn dirTimestamps;\n\t\t\t},\n\t\t\tgetFileTimeInfoEntries: () => {\n\t\t\t\tconst fileTimestamps = watcher.getFileTimeInfoEntries();\n\t\t\t\tfor (const path of ignoredFiles) {\n\t\t\t\t\tfileTimestamps.set(path, IGNORE_TIME_ENTRY);\n\t\t\t\t}\n\t\t\t\treturn fileTimestamps;\n\t\t\t},\n\t\t\tgetInfo:\n\t\t\t\twatcher.getInfo &&\n\t\t\t\t(() => {\n\t\t\t\t\tconst info = watcher.getInfo();\n\t\t\t\t\tconst { fileTimeInfoEntries, contextTimeInfoEntries } = info;\n\t\t\t\t\tfor (const path of ignoredFiles) {\n\t\t\t\t\t\tfileTimeInfoEntries.set(path, IGNORE_TIME_ENTRY);\n\t\t\t\t\t}\n\t\t\t\t\tfor (const path of ignoredDirs) {\n\t\t\t\t\t\tcontextTimeInfoEntries.set(path, IGNORE_TIME_ENTRY);\n\t\t\t\t\t}\n\t\t\t\t\treturn info;\n\t\t\t\t})\n\t\t};\n\t}\n}\n\nclass WatchIgnorePlugin {\n\t/**\n\t * @param {WatchIgnorePluginOptions} options options\n\t */\n\tconstructor(options) {\n\t\tvalidate(options);\n\t\tthis.paths = options.paths;\n\t}\n\n\t/**\n\t * Apply the plugin\n\t * @param {Compiler} compiler the compiler instance\n\t * @returns {void}\n\t */\n\tapply(compiler) {\n\t\tcompiler.hooks.afterEnvironment.tap(\"WatchIgnorePlugin\", () => {\n\t\t\tcompiler.watchFileSystem = new IgnoringWatchFileSystem(\n\t\t\t\tcompiler.watchFileSystem,\n\t\t\t\tthis.paths\n\t\t\t);\n\t\t});\n\t}\n}\n\nmodule.exports = WatchIgnorePlugin;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}